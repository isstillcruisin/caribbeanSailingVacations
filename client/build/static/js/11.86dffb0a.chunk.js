(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{120:function(e,t,a){"use strict";a.r(t);var n=a(69),r=a(63),s=a(13),o=a(14),l=a(16),u=a(15),c=a(17),i=a(0),m=a.n(i),p=a(115),d=a(81),h=a.n(d),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={uploadedFileCloudinaryUrl:""},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"onImageDrop",value:function(e){this.setState({uploadedFile:e[0]}),this.handleImageUpload(e[0])}},{key:"handleImageUpload",value:function(e){var t=this;h.a.post("https://api.cloudinary.com/v1_1/dui3yyhou/upload").field("upload_preset","ecaxfmj9").field("file",e).end(function(e,a){e&&console.error(e),""!==a.body.secure_url&&t.setState({uploadedFileCloudinaryUrl:a.body.secure_url}),t.props.setUrls(t.state.uploadedFileCloudinaryUrl)})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(p.a,{onDrop:this.onImageDrop.bind(this),accept:"image/*",multiple:!0},function(e){var t=e.getRootProps,a=e.getInputProps;return m.a.createElement("div",t(),m.a.createElement("input",a()),m.a.createElement("p",null,"Try dropping some files here, or click to select files to upload."))}),m.a.createElement("div",null,""===this.state.uploadedFileCloudinaryUrl?null:m.a.createElement("div",null,m.a.createElement("p",null,this.state.uploadedFile.name),m.a.createElement("img",{src:this.state.uploadedFileCloudinaryUrl,alt:""}))))}}]),t}(i.Component),f=function(e){return m.a.createElement("form",null,m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"boat-name"},m.a.createElement("strong",null,"Boat Name")),m.a.createElement("input",{className:"form-control",id:"boat-name",type:"text",value:e.boatName,placeholder:"name of the boat...",name:"boatName",onChange:e.handleInputChange,required:!0}),m.a.createElement("label",{htmlFor:"description"},m.a.createElement("strong",null,"Crew Bio")),m.a.createElement("input",{className:"form-control",id:"crewBio",type:"textArea",value:e.crewBio,placeholder:"about the crew..",name:"crewBio",onChange:e.handleInputChange,required:!0}),m.a.createElement("label",{htmlFor:"maxPassengers"},m.a.createElement("strong",null,"Passenger Capacity")),m.a.createElement("input",{className:"form-control",id:"maxPassengers",type:"number",value:e.maxPassengers,placeholder:"4-30",name:"maxPassengers",onChange:e.handleInputChange,required:!0}),m.a.createElement("label",{htmlFor:"year"},m.a.createElement("strong",null,"Year made")),m.a.createElement("input",{className:"form-control",id:"year",type:"number",value:e.year,placeholder:"2009",name:"year",onChange:e.handleInputChange,required:!0}),m.a.createElement("label",{htmlFor:"manufacture"},m.a.createElement("strong",null,"Manufacturer of Boat")),m.a.createElement("input",{className:"form-control",id:"manufacture",type:"text",value:e.manufacture,placeholder:"Boat size etc...",name:"manufacture",onChange:e.handleInputChange,required:!0}),m.a.createElement("label",{htmlFor:"image-url"},m.a.createElement("strong",null,"Boat Images")),m.a.createElement(g,{imgs:e.imgs,onChange:e.handleInputChange,setUrls:e.handleSetUrls})),m.a.createElement("div",{className:"pull-right"},m.a.createElement("button",{onClick:e.handleFormSubmit,type:"submit",className:"btn btn-lg btn-danger"},"Submit")))},b=a(52),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={boatName:"",imgUrls:[],year:0,maxPassengers:0,manufacture:"",crewBio:""},a.handleFormSubmit=function(e){e.preventDefault();try{a.saveBoats()}catch(t){console.log("error in save boats (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",t)}},a.saveBoats=function(){b.a.saveBoat({boatName:a.state.boatName,imgs:a.state.imgUrls,year:a.state.year,maxPassengers:a.state.maxPassengers,manufacture:a.state.manufacture,crewBio:a.state.crewBio}).then(function(e){return a.setState({boats:e.data,message:e.data.length?"":"No New boats Found, Try a Different Query"})}).catch(function(e){return console.log("saving boat error",e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(r.a)({},n,s))},a.handleSetUrls=function(e){a.setState({imgUrls:[].concat(Object(n.a)(a.state.imgUrls),[e])})},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"AddBoat"},m.a.createElement("header",{className:"AddBoat-header"},m.a.createElement(f,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,handleSetUrls:this.handleSetUrls,boatName:this.state.boatName,imgs:this.state.imgs,year:this.state.year,maxPassengers:this.state.maxPassengers,manufacture:this.state.manufacture,crewBio:this.state.crewBio})))}}]),t}(i.Component);t.default=v},52:function(e,t,a){"use strict";var n=a(53),r=a.n(n),s=a(54),o=a(60),l=a.n(o),u=a(55),c=a.n(u);t.a={getBoats:function(){var e=Object(s.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/boats");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("error in get boats (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getBoat:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/boats/"+t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("error in get boats (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),deleteBoat:function(e){return l.a.delete("/api/boats/"+e)},saveBoat:function(e){return l.a.post("/api/boats",e)},userSignIn:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/users/signin",t);case 3:if(!(a=e.sent)){e.next=8;break}return c.a.set("user-token",a.data.token),a.data.adminMode&&c.a.set("admin",a.data.adminMode),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("user login error (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),userSignOut:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.a.clear("user-token"),e.abrupt("return");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),userCreate:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/api/users/signup",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("userCreate error (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=11.86dffb0a.chunk.js.map