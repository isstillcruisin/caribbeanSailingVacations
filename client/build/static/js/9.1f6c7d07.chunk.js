(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{123:function(e,t,a){"use strict";a.r(t);var n=a(63),r=a(53),s=a.n(r),u=a(54),o=a(13),c=a(14),i=a(16),l=a(15),p=a(17),d=a(0),m=a.n(d),h=a(6),f=function(e){return m.a.createElement("form",null,m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"email"},m.a.createElement("strong",null,"Email")),m.a.createElement("input",{className:"form-control",id:"email",type:"text",value:e.email,placeholder:"Email",name:"email",onChange:e.handleInputChange,required:!0}),m.a.createElement("label",{htmlFor:"password"},m.a.createElement("strong",null,"Password")),m.a.createElement("input",{className:"form-control",id:"password",type:"password",value:e.password,placeholder:"Password",name:"password",onChange:e.handleInputChange,required:!0})),m.a.createElement("div",{className:"pull-right"},m.a.createElement("button",{onClick:e.handleSignIn,type:"submit",className:"btn btn-lg btn-danger"},"Submit")))},v=a(52),b=a(55),g=a.n(b),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),p=0;p<r;p++)c[p]=arguments[p];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).state={email:"",password:"",validatedUser:"",admin:!1},a.handleSignIn=function(){var e=Object(u.a)(s.a.mark(function e(t){var n,r,u,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,u=n.password,e.next=4,v.a.userSignIn({email:r,password:u});case 4:o=e.sent,a.setState({validatedUser:o,admin:o.data.adminMode}),console.log("validatedUser (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",o);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=e.target,r=t.name,s=t.value;a.setState(Object(n.a)({},r,s))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return""!==this.state.validatedUser||g.a.get("user-token")?m.a.createElement(h.a,{to:{pathname:"/boats"}}):m.a.createElement(m.a.Fragment,null,m.a.createElement("h1",null,"Sign In"),m.a.createElement(f,{handleInputChange:this.handleInputChange,handleSignIn:this.handleSignIn,email:this.state.email,password:this.state.password}))}}]),t}(d.Component);t.default=w},52:function(e,t,a){"use strict";var n=a(53),r=a.n(n),s=a(54),u=a(60),o=a.n(u),c=a(55),i=a.n(c);t.a={getBoats:function(){var e=Object(s.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/api/boats");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("error in get boats (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),getBoat:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/api/boats/"+t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("error in get boats (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),deleteBoat:function(e){return o.a.delete("/api/boats/"+e)},saveBoat:function(e){return o.a.post("/api/boats",e)},userSignIn:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/api/users/signin",t);case 3:if(!(a=e.sent)){e.next=8;break}return i.a.set("user-token",a.data.token),a.data.adminMode&&i.a.set("admin",a.data.adminMode),e.abrupt("return",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("user login error (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),userSignOut:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.clear("user-token"),e.abrupt("return");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),userCreate:function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/api/users/signup",t);case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("userCreate error (\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b ",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}},63:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",function(){return n})}}]);
//# sourceMappingURL=9.1f6c7d07.chunk.js.map