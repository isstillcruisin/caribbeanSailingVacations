{"version":3,"sources":["components/ImageUploader/ImageUploader.js","components/Form/Form.js","pages/AddBoat.js","utils/API.js"],"names":["ImageUploader","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","uploadedFileCloudinaryUrl","files","setState","uploadedFile","handleImageUpload","file","_this2","request","post","field","end","err","response","console","error","body","secure_url","setUrls","react_default","a","createElement","Fragment","es","onDrop","onImageDrop","bind","accept","multiple","_ref","getRootProps","getInputProps","name","src","alt","Component","Form","className","htmlFor","id","type","value","boatName","placeholder","onChange","handleInputChange","required","crewBio","maxPassengers","year","manufacture","components_ImageUploader_ImageUploader","imgs","handleSetUrls","onClick","handleFormSubmit","AddBoat","imgUrls","event","preventDefault","saveBoats","log","API","saveBoat","then","res","boats","data","message","length","catch","_event$target","target","defineProperty","url","concat","toConsumableArray","components_Form_Form","__webpack_exports__","getBoats","_getBoats","_Users_ThisGuy_Desktop_Cruisin_sailing_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_ThisGuy_Desktop_Cruisin_sailing_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","wrap","_context","prev","next","axios","get","sent","abrupt","t0","stop","apply","arguments","getBoat","_getBoat","_callee2","boat","_context2","_x","deleteBoat","delete","boatData","userSignIn","_userSignIn","_callee3","userData","user","_context3","ls","set","token","adminMode","_x2","userSignOut","_userSignOut","_callee4","_context4","clear","userCreate","_userCreate","_callee5","newUser","_context5","_x3"],"mappings":"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","file":"static/js/11.86dffb0a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\n\nconst CLOUDINARY_UPLOAD_PRESET = \"ecaxfmj9\";\nconst CLOUDINARY_UPLOAD_URL = \"https://api.cloudinary.com/v1_1/dui3yyhou/upload\";\n\nclass ImageUploader extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      uploadedFileCloudinaryUrl: \"\",\n    };\n  }\n\n  onImageDrop(files) {\n    this.setState({\n      uploadedFile: files[0]\n    });\n\n    this.handleImageUpload(files[0]);\n  }\n\n  handleImageUpload(file) {\n    let upload = request.post(CLOUDINARY_UPLOAD_URL)\n      .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n      .field('file', file);\n\n    upload.end((err, response) => {\n      if (err) {\n        console.error(err);\n      }\n\n      if (response.body.secure_url !== '') {\n        this.setState({\n          uploadedFileCloudinaryUrl: response.body.secure_url\n        });\n      }\n      this.props.setUrls(this.state.uploadedFileCloudinaryUrl);\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <Dropzone\n          onDrop={this.onImageDrop.bind(this)}\n          accept=\"image/*\"\n          multiple={true}\n        >\n          {({ getRootProps, getInputProps }) => {\n            return (\n              <div {...getRootProps()}>\n                <input {...getInputProps()} />\n                {\n                  <p>\n                    Try dropping some files here, or click to select files to\n                    upload.\n                  </p>\n                }\n              </div>\n            );\n          }}\n        </Dropzone>\n\n        <div>\n          {this.state.uploadedFileCloudinaryUrl === '' ? null :\n            <div>\n              <p>{this.state.uploadedFile.name}</p>\n              <img src={this.state.uploadedFileCloudinaryUrl} alt=\"\" />\n            </div>}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ImageUploader;","import React from \"react\";\nimport ImageUploader from '../ImageUploader'\n\nconst Form = props => (\n  <form>\n    <div className=\"form-group\">\n      <label htmlFor=\"boat-name\">\n        <strong>Boat Name</strong>\n      </label>\n      <input\n        className=\"form-control\"\n        id=\"boat-name\"\n        type=\"text\"\n        value={props.boatName}\n        placeholder=\"name of the boat...\"\n        name=\"boatName\"\n        onChange={props.handleInputChange}\n        required\n      />\n      <label htmlFor=\"description\">\n        <strong>Crew Bio</strong>\n      </label>\n      <input\n        className=\"form-control\"\n        id=\"crewBio\"\n        type=\"textArea\"\n        value={props.crewBio}\n        placeholder=\"about the crew..\"\n        name=\"crewBio\"\n        onChange={props.handleInputChange}\n        required\n      />\n      <label htmlFor=\"maxPassengers\">\n        <strong>Passenger Capacity</strong>\n      </label>\n      <input\n        className=\"form-control\"\n        id=\"maxPassengers\"\n        type=\"number\"\n        value={props.maxPassengers}\n        placeholder=\"4-30\"\n        name=\"maxPassengers\"\n        onChange={props.handleInputChange}\n        required\n      />\n      <label htmlFor=\"year\">\n        <strong>Year made</strong>\n      </label>\n      <input\n        className=\"form-control\"\n        id=\"year\"\n        type=\"number\"\n        value={props.year}\n        placeholder=\"2009\"\n        name=\"year\"\n        onChange={props.handleInputChange}\n        required\n      />\n      <label htmlFor=\"manufacture\">\n        <strong>Manufacturer of Boat</strong>\n      </label>\n      <input\n        className=\"form-control\"\n        id=\"manufacture\"\n        type=\"text\"\n        value={props.manufacture}\n        placeholder=\"Boat size etc...\"\n        name=\"manufacture\"\n        onChange={props.handleInputChange}\n        required\n      />\n      <label htmlFor=\"image-url\">\n        <strong>Boat Images</strong>\n      </label>\n      <ImageUploader\n        imgs={props.imgs}\n        onChange={props.handleInputChange}\n        setUrls={props.handleSetUrls}\n      />\n    </div>\n    <div className=\"pull-right\">\n      <button\n        onClick={props.handleFormSubmit}\n        type=\"submit\"\n        className=\"btn btn-lg btn-danger\"\n      >\n        Submit\n      </button>\n    </div>\n  </form>\n);\n\nexport default Form;\n","import React, { Component } from \"react\";\nimport Form from \"../components/Form\";\nimport API from \"../utils/API\";\n\nclass AddBoat extends Component {\n  state = {\n    boatName: \"\",\n    imgUrls: [],\n    year: 0,\n    maxPassengers: 0,\n    manufacture: \"\",\n    crewBio: \"\"\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    try {\n      this.saveBoats();\n    } catch (err) {\n      console.log(\"error in save boats (╯°□°)╯︵ ┻━┻ \", err);\n    }\n  };\n\n  saveBoats = () => {\n    API.saveBoat({\n      boatName: this.state.boatName,\n      imgs: this.state.imgUrls,\n      year: this.state.year,\n      maxPassengers: this.state.maxPassengers,\n      manufacture: this.state.manufacture,\n      crewBio: this.state.crewBio\n    })\n      .then(res =>\n        this.setState({\n          boats: res.data,\n          message: !res.data.length\n            ? \"No New boats Found, Try a Different Query\"\n            : \"\"\n        })\n      )\n      .catch(err => console.log(\"saving boat error\", err));\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSetUrls = url => {\n    this.setState({\n      imgUrls: [...this.state.imgUrls, url]\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"AddBoat\">\n        <header className=\"AddBoat-header\">\n          <Form\n            handleInputChange={this.handleInputChange}\n            handleFormSubmit={this.handleFormSubmit}\n            handleSetUrls={this.handleSetUrls}\n            boatName={this.state.boatName}\n            imgs={this.state.imgs}\n            year={this.state.year}\n            maxPassengers={this.state.maxPassengers}\n            manufacture={this.state.manufacture}\n            crewBio={this.state.crewBio}\n          />\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default AddBoat;\n","import axios from \"axios\";\nimport ls from \"local-storage\";\n\nexport default {\n  // Gets boats from the Node server API\n  getBoats: async function() {\n    try {\n      const boats = await axios.get(\"/api/boats\");\n      return boats;\n    } catch (error) {\n      console.log(\"error in get boats (╯°□°)╯︵ ┻━┻ \", error);\n    }\n  },\n  getBoat: async function(id) {\n    try {\n      const boat = await axios.get(\"/api/boats/\" + id);\n      return boat;\n    } catch (error) {\n      console.log(\"error in get boats (╯°□°)╯︵ ┻━┻ \", error);\n    }\n  },\n  // Deletes the saved boat with the given id\n  deleteBoat: function(id) {\n    return axios.delete(\"/api/boats/\" + id);\n  },\n  // Saves an boat to the database\n  saveBoat: function(boatData) {\n    return axios.post(\"/api/boats\", boatData);\n  },\n  // finds an existing user and logs them in\n  userSignIn: async function(userData) {\n    try {\n      const user = await axios.post(\"/api/users/signin\", userData);\n      if (user) {\n        ls.set(\"user-token\", user.data.token);\n        if (user.data.adminMode) {\n          ls.set(\"admin\", user.data.adminMode);\n        }\n        return user;\n      }\n    } catch (error) {\n      console.log(\"user login error (╯°□°)╯︵ ┻━┻ \", error);\n    }\n  },\n  userSignOut: async function() {\n    ls.clear(\"user-token\");\n    return;\n  },\n  // creates a new user\n  userCreate: async function(userData) {\n    try {\n      const newUser = await axios.post(\"/api/users/signup\", userData);\n      return newUser;\n    } catch (error) {\n      console.log(\"userCreate error (╯°□°)╯︵ ┻━┻ \", error);\n    }\n  }\n};\n"],"sourceRoot":""}